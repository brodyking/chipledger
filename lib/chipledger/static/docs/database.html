<script>
    document.title = "Database - Chipledger Docs";
</script>
<main id="main">
    <h2 class="mt-5" id="about-this-project">Database</h2>
    <p>
        The database on this project uses SQLite. This is because of its simplicity and portability.
    </p>
    <h4 id="table-of-contents">
        Table of Contents
    </h4>
    <p>
    <ol>
        <li>
            <a href="#tables">Tables</a>
        </li>
        <li>
            <a href="#users">Users</a>
        </li>
        <li>
            <a href="#games">Games</a>
        </li>
    </ol>
    </p>
    <h4 id="tables">Tables</h4>
    <p>
        The database contains 2 tables: <code>users</code> and <code>games</code>. Each are stored in the same file,
        <code>database.db</code>.
    </p>
    <h4 id="users">Users</h4>
    <p>
        This table contains information about each user, including their name, email, passowrd, etc. Here is an example entry. 
    </p>
    <div class="table-responsive">
        <table class="table table-striped border">
            <thead>
                <td>id</td>
                <td>username</td>
                <td>email</td>
                <td>password</td>
                <td>session</td>
                <td>joindate</td>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>smitty</td>
                    <td>billybob@gmail.com</td>
                    <td>epicpassword</td>
                    <td>678281824367599718</td>
                    <td>01/01/1977</td>
                </tr>
            </tbody>
        </table>
    </div>
    <p>
        Here is the create statement.
    </p>
    <pre class="bg-body-tertiary border p-3 rounded"><code>CREATE TABLE "users" (
	"id"	INTEGER,
	"username"	TEXT NOT NULL UNIQUE,
	"email"	TEXT,
	"password"	TEXT NOT NULL,
	"session"	INTEGER,
	"joindate"	TEXT,
	PRIMARY KEY("id")
)</code></pre>
    <h4 id="games">Games</h4>
    <p>
        The games table contains all game data. All the data for the game is stored in JSON. Here is an example entry.
    </p>
    <div class="table-responsive">
        <table class="table table-striped border">
            <thead>
                <td>id</td>
                <td>name</td>
                <td>username</td>
                <td>data</td>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>poker!</td>
                    <td>smitty</td>
                    <td><code>{"players":["joe","bob"],"buyins":{"joe":19,"bob":12},"cashouts":{"joe":0,"bob":13},"totalPot":18,"totalCashouts":13,"totalBuyins":31,"totalPlayers":2,"buyinsHistory":[{"name":"joe","value":"19","method":"cash"},{"name":"bob","value":"12","method":"zelle"}],"cashoutsHistory":[{"name":"bob","value":"13","method":"cash"}],"totalHistory":[{"type":"join","message":"joe has joined the table!"},{"type":"join","message":"bob has joined the table!"},{"type":"buyin","method":"cash","message":"joe bought in for $19"},{"type":"buyin","method":"zelle","message":"bob bought in for $12"},{"type":"cashout","method":"cash","message":"bob has cashed out for $13"}]}</code></td>
                </tr>
            </tbody>
        </table>
    </div>
    <p>
        Here is the create statement.
    </p>
    <pre class="bg-body-tertiary border p-3 rounded"><code>CREATE TABLE "games" (
	"id"	INTEGER,
	"name"	TEXT UNIQUE,
	"username"	TEXT NOT NULL,
	"data"	TEXT NOT NULL,
	PRIMARY KEY("id")
)</code></pre>
</main>
